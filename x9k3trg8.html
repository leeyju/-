<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>개인 식별코드 입력</title>
</head>
<body>
  <h2>개인 식별코드 입력</h2>
  <form id="dataForm" target="dummyFrame" style="font-size: 18px;" method="POST"
    action="https://docs.google.com/forms/d/e/1FAIpQLSfA9MyCF3AloKtzHwEFnyxfXLhHBx7tIpNxK0vGBYdaWL4ltQ/formResponse">
    
    <p><input type="text" id="codeInput" placeholder="개인 식별코드" required></p>
    <p><input type="text" name="entry.866977490" id="orgInput" placeholder="소속기관" required></p>
    <p><input type="text" name="entry.2090662080" id="nameInput" placeholder="이름" required></p>
    <p><input type="text" name="entry.30391193" id="genderInput" placeholder="성별" required></p>
    <p><input type="text" name="entry.1769811738" id="ageInput" placeholder="나이" required></p>
    
    <button type="submit" style="padding: 10px 20px; font-size: 18px;">확인</button>
  </form>

  <iframe name="dummyFrame" style="display:none;"></iframe>

  <script>
    const codeMap = {
      "0216": "https://leeyju.github.io/patient-info/patient1.html",
      "1127": "https://leeyju.github.io/patient-info/patient3.html",
      "0126": "https://leeyju.github.io/patient-info/Patient4.html",
      "0915": "https://leeyju.github.io/patient-info/Patient5.html",
      "0611": "https://leeyju.github.io/patient-info/Patient6.html",
      "0908": "https://leeyju.github.io/patient-info/Patient7.html"
    };

    document.getElementById('dataForm').addEventListener('submit', function(e) {
      e.preventDefault(); // 기본 제출 막고
      const code = document.getElementById('codeInput').value;

      if (codeMap[code]) {
        this.submit(); // 진짜 Google Form에 전송!
        setTimeout(() => {
          window.location.href = codeMap[code];
        }, 1000); // 전송 후 환자 정보 페이지로 이동
      } else {
        alert("개인 식별코드가 올바르지 않습니다.");
      }
    });
  </script>
</body>
</html>
